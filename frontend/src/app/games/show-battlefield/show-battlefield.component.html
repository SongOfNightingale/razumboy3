<div class="position-relative">
    <app-sidebar-game [isSidebarCollapsed]="isSidebarCollapsed" (sidebarToggle)="onSidebarToggle()">
    </app-sidebar-game>
    <button class="sidebar-toggle-btn" [ngClass]="{ 'sidebar-collapsed': isSidebarCollapsed }"
        (click)="onSidebarToggle()">
        <i class="fas fa-bars"></i>
    </button>
</div>
<!--<div class="battle-container">
    <div class="battlefield">
        <div class="grid">
            <div class="row labels">
                <div class="cell empty"></div>
                <div class="cell" *ngFor="let col of columnLabels">{{ col }}</div>
            </div>
            <div class="row" *ngFor="let row of grid; let r = index">
                <div class="cell label">{{ r + 1 }}</div>
                <div class="cell" *ngFor="let cell of row" [ngClass]="cell.status" (click)="cellClicked(cell)"
                    style="position: relative">
                    <i *ngIf="cell.status === 'revealed-ship' && cell.icon" class="fas" [ngClass]="cell.icon"></i>
                    
                    <div *ngIf="cell.justRevealed" class="missile"></div>
                    <div *ngIf="cell.justRevealed" class="explosion"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="list-panel">
        <h2 class="section-title">üë• Name List</h2>
        <div class="highlight-label">
            üéØ –°–ª–µ–¥—É—é—â–∏–π —Ö–æ–¥: <strong>{{ names[highlightedIndex] }}</strong>
        </div>
        <div cdkDropList [cdkDropListDisabled]="locked">
            <mat-card *ngFor="let name of names; index as i" cdkDrag class="name-card" [class.locked]="locked"
                [class.highlighted]="i === highlightedIndex">
                {{ i+1 }}. {{ name }}
            </mat-card>
        </div>
    </div>
</div>-->
<div class="below-content">
    <div class="time-content-container">
        <!-- <label for="timeInput">–í—Ä–µ–º—è –Ω–∞ –≤–æ–ø—Ä–æ—Å:</label><br>
        <input id="timeInput" type="text" [(ngModel)]="timeInSeconds" /> -->
        <label>–ò–¥—ë—Ç –≤–æ–ø—Ä–æ—Å {{questionNumber}}, –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è <span class="timer">{{timeLeft}}</span></label>
        <!-- <button (click)="pauseQuestions()"><i class="fa-solid fa-pause" style="color: #ff0000;"></i></button> -->
        <button (click)="showBattlefield()">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–µ –±–æ—è</button>
        <button (click)="showTable()">–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É</button>
        <label>{{ highlightedIndex }} / {{ names[highlightedIndex] }}</label>
        <label>–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞: </label>
        <select id="user" [(ngModel)]="selectedIndex" (change)="onUserChange($event)">
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É</option>
            <option *ngFor="let name of names; index as i" [value]="i">{{ i }} / {{ name }}</option>
        </select>
        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ—Ä–∞–±–ª–µ–π: {{ number_of_killed_ships }}</label>
        <button (click)="finishGame()" *ngIf="number_of_killed_ships == 15"><i class="fa-solid fa-flag-checkered" style="color: #000000;"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É</button>
    </div>
    <div class="categories-content-container">
        <table>
            <thead>
                <tr>
                    <th>‚Ññ</th>
                    <th>–í–æ–ø—Ä–æ—Å</th>
                    <th>–°—ã–≥—Ä–∞–Ω –ª–∏ –≤–æ–ø—Ä–æ—Å</th>
                    <th>–û—á–∫–∏ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç</th>
                    <!-- <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤</th> -->
                    <th>–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å</th>
                    <th>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç—ã –∫–æ–º–∞–Ω–¥</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let question of gameQuestions; index as i">
                    <td>{{ i + 1 }}</td>
                    <td>{{ question.text }}</td>
                    <td><i class="fa-solid fa-check" style="color: #63E6BE;" *ngIf="question.is_played"></i></td>
                    <td>
                      <select [(ngModel)]="question.question_type" class="question-type-select" (change)="onQuestionTypeChange(i, $event)">
                        <option *ngFor="let option of questionTypeOptions" [value]="option.value">
                          {{ option.label }}
                        </option>
                      </select>
                    </td>
                    <!-- <td>{{ question.answerNumber }}</td> -->
                    <td>
                        <button (click)="startQuestion(i+1)"><i class="fa-sharp fa-solid fa-circle-play"
                                style="color: green;"></i></button>
                    </td>
                    <td>
                        <button (click)="seeUserAnswers(question.id, i+1, question.question_type)"><i class="fa-solid fa-eye"
                                style="color: blue;"></i></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
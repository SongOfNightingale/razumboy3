<div class="position-relative">
    <app-sidebar [isSidebarCollapsed]="isSidebarCollapsed" (sidebarToggle)="onSidebarToggle()">
    </app-sidebar>
    <button class="sidebar-toggle-btn" [ngClass]="{ 'sidebar-collapsed': isSidebarCollapsed }"
        (click)="onSidebarToggle()">
        <i class="fas fa-bars"></i>
    </button>
</div>
<div class="users-content-container">
    <div class="search-content-container">
        <label for="usernameSearch">Search Username:</label>
        <input id="usernameSearch" [(ngModel)]="usernameFilter" (input)="applyFilters()" />

        <label for="assignFilter">Filter by assignment:</label>
        <select id="assignFilter" [(ngModel)]="selectedAssign" (change)="applyFilters()">
            <option value="">All roles</option>
            <option value="1">Active</option>
            <option value="0">Not active</option>
        </select>

    </div>
    <table>
        <thead>
            <tr>
                <th (click)="sort('id')">Id <i [class]="getSortIcon('id')"></i></th>
                <th (click)="sort('username')">Username <i [class]="getSortIcon('username')"></i></th>
                <th (click)="sort('is_active')">Game assign <i [class]="getSortIcon('is_active')"></i></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of filteredUsers; index as i">
                <td>{{ user.id }}</td>
                <td>{{ user.username }}</td>
                <td>
                    <button *ngIf="user.is_active == '1'" (click)="removeFromGame(user, i)"><i
                            class="fa-solid fa-square-minus" style="color: #ff0000;"></i></button>
                    <button *ngIf="user.is_active == '0'" (click)="addToGame(user, i)"><i
                            class="fa-solid fa-square-plus" style="color: #63E6BE;"></i></button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="battle-container">
    <div class="battlefield">
        <div class="grid">
            <div class="row">
                <div class="cell label"></div>
                <div class="cell" *ngFor="let col of columnLabels">{{ col }}</div>
            </div>
            <div class="row" *ngFor="let row of grid; let r = index">
                <div class="cell label">{{ r + 1 }}</div>
                <div class="cell" *ngFor="let cell of row" [ngClass]="cell.status" style="position: relative">
                    <i *ngIf="cell.status === 'revealed-ship' && cell.type != 'additional'" class="fa-solid fa-ship"></i>
                    <img *ngIf="cell.status === 'revealed-ship' && cell.icon" [src]="cell.icon" [ngClass]="cell.icon"
                        width="24" height="24" />
                    <div *ngIf="cell.justRevealed" class="missile"></div>
                    <div *ngIf="cell.justRevealed" class="explosion"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="list-panel">
        <h2 class="section-title">üë• Name List</h2>
        <div class="highlight-label">
            üéØ –°–ª–µ–¥—É—é—â–∏–π —Ö–æ–¥: <strong>{{ names[highlightedIndex] }}</strong>
        </div>
        <div cdkDropList [cdkDropListDisabled]="locked">
            <mat-card *ngFor="let name of names; index as i" cdkDrag class="name-card" [class.locked]="locked"
                [class.highlighted]="i == highlightedIndex">
                {{ i+1 }}. {{ name }}
            </mat-card>
        </div>
    </div>
</div>
<div class="below-content">
    <div class="table-container mat-elevation-z4">
        <table mat-table [dataSource]="dataSource" class="mat-table modern-table">

            <ng-container matColumnDef="place">
                <th mat-header-cell *matHeaderCellDef> –ú–µ—Å—Ç–æ </th>
                <td mat-cell *matCellDef="let team"> {{ team.place }} </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> –ö–æ–º–∞–Ω–¥–∞ </th>
                <td mat-cell *matCellDef="let team"> {{ team.name }} </td>
            </ng-container>

            <ng-container matColumnDef="pointA">
                <th mat-header-cell *matHeaderCellDef> –ö–æ—Ä–∞–±–ª–∏ </th>
                <td mat-cell *matCellDef="let team"> {{ team.ship_kill_points }} </td>
            </ng-container>

            <ng-container matColumnDef="pointB">
                <th mat-header-cell *matHeaderCellDef> –ü–∞–ª—É–±—ã </th>
                <td mat-cell *matCellDef="let team"> {{ team.ship_hit_points }} </td>
            </ng-container>

            <ng-container matColumnDef="pointC">
                <th mat-header-cell *matHeaderCellDef> –û—Ç–≤–µ—Ç—ã </th>
                <td mat-cell *matCellDef="let team"> {{ team.question_points }} </td>
            </ng-container>

            <ng-container matColumnDef="pointD">
                <th mat-header-cell *matHeaderCellDef> –ë–æ–Ω—É—Å—ã </th>
                <td mat-cell *matCellDef="let team"> {{ team.bonus_points }} </td>
            </ng-container>

            <ng-container matColumnDef="pointE">
                <th mat-header-cell *matHeaderCellDef> –®—Ç—Ä–∞—Ñ—ã </th>
                <td mat-cell *matCellDef="let team"> {{ team.penalty_points }} </td>
            </ng-container>

            <ng-container matColumnDef="total">
                <th mat-header-cell *matHeaderCellDef> –í—Å–µ–≥–æ </th>
                <td mat-cell *matCellDef="let team"> {{ team.total }} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>
    </div>
</div>